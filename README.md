# Административный сервис учёта проектов и технологий

## Общее описание

Административный сервис учёта проектов и технологий - это комплексная система для автоматизации сбора, хранения, анализа и отчётности по проектам и технологиям. Сервис выступает единым источником истины для руководства, менеджеров и технических специалистов, обеспечивая управление портфелем проектов, планирование, контроль рисков и бюджета, а также гибкую отчётность.

## Основные функциональные возможности

### 1. Управление портфелем проектов
- Создание, редактирование и удаление проектов
- Управление статусами и фазами проектов
- Контроль бюджета и прогнозирование расходов
- Управление командой проекта

### 2. Каталог технологий и жизненный цикл
- Каталогизация используемых технологий
- Отслеживание стадий жизненного цикла технологий
- Предупреждения об устаревании версий
- Оценка технологий по различным критериям

### 3. Планирование и зависимости
- Создание и управление задачами
- Отслеживание зависимостей между задачами
- Календарь и диаграмма Ганта
- Блокировка задач при невыполненных зависимостях

### 4. Управление ресурсами
- Календарь загрузки по сотрудникам
- Контроль перегрузки ресурсов
- Рекомендации по перераспределению нагрузки

### 5. Контроль бюджета
- Сравнение утвержденного бюджета с фактическими расходами
- Прогнозирование окончательной стоимости
- Автоматические алерты при превышении порога

### 6. Риски и проблемы
- Регистрация и оценка рисков
- Назначение ответственных за риски
- Планирование мер по снижению рисков
- Еженедельный дайджест открытых рисков

### 7. Отчётность
- Готовые шаблоны отчетов
- Экспорт данных в CSV, Excel, PDF, JSON
- REST и GraphQL API для интеграции
- Дашборды с ключевыми метриками

## Архитектура системы

### Структура проекта
```
src/
├── projects/          - Модуль управления проектами
├── technologies/     - Модуль управления технологиями
├── tasks/             - Модуль управления задачами
├── risks/             - Модуль управления рисками
├── kpis/              - Модуль KPI и отчетности
├── auth/              - Модуль аутентификации и авторизации
├── shared/           - Общие компоненты и утилиты
├── config/           - Конфигурационные файлы
├── database/          - Схемы и миграции базы данных
└── main.ts            - Точка входа приложения
```

### Технический стек
- **Язык программирования**: TypeScript
- **Фреймворк**: Next.js
- **Стилизация**: Tailwind CSS, shadCN
- **База данных**: PostgreSQL с Prisma ORM
- **Аутентификация**: JWT (RS256) + refresh tokens
- **Валидация**: Zod
- **Тестирование**: Jest, Cypress
- **Документация API**: OpenAPI 3.0, Swagger UI
- **Контейнеризация**: Docker

## Модели данных

Система включает следующие основные сущности:
- **Project** - Проект
- **Technology** - Технология
- **Task** - Задача
- **Risk** - Риск
- **KPI** - Ключевой показатель эффективности

Все сущности имеют уникальные неизменяемые ID, версионируются через `updatedAt` и поддерживают строгую валидацию данных.

## API

Сервис предоставляет RESTful API с возможностью расширения через GraphQL для сложных отчетов. Все endpoints защищены JWT токенами с RBAC контролем доступа.

### Основные endpoints:
- `/api/v1/projects` - Управление проектами
- `/api/v1/technologies` - Управление технологиями
- `/api/v1/tasks` - Управление задачами
- `/api/v1/risks` - Управление рисками
- `/api/v1/kpis` - Управление KPI
- `/api/v1/auth` - Аутентификация
- `/api/v1/reports` - Генерация отчетов

## Безопасность

Система следует современным практикам безопасности:
- JWT токены с RS256 подписью
- RBAC система ролей (admin, portfolio_manager, project_manager, viewer)
- Аудит всех действий пользователей
- Rate limiting для предотвращения злоупотреблений
- Защита от CSRF и SQL injection
- Хранение секретов в HashiCorp Vault или AWS Secrets Manager

## Интеграции

### Входящие данные:
- Jira / YouTrack (через REST API или вебхуки)
- CSV/Excel-файлы (парсинг + валидация)
- BI/ERP систем (через ETL-планировщик)

### Исходящие уведомления:
- Webhooks в Slack/MS Teams/email
- Автоматические задачи при триггерах

## Развертывание

### Требования:
- Node.js 18+
- PostgreSQL 14+
- Docker (опционально)

### Локальное развертывание:
1. Клонировать репозиторий
2. Установить зависимости: `npm install`
3. Создать .env файл с конфигурацией
4. Запустить миграции базы данных: `npm run migrate`
5. Запустить приложение: `npm run dev`

### Docker развертывание:
1. Собрать образ: `docker build -t project-admin-service .`
2. Запустить контейнер: `docker run -p 3000:3000 project-admin-service`

## Тестирование

Проект включает структуру тестов:
- Unit тесты для бизнес-логики
- Integration тесты для API endpoints
- E2E тесты для критических пользовательских сценариев

Запуск тестов: `npm test`

## Документация

- Подробная документация по API в формате OpenAPI 3.0
- Руководство по настройке ролей и интеграций
- Примеры запросов и ответов
- Руководство по развертыванию и конфигурации

## Лицензия

Подробности в файле LICENSE.

## Контакты

По вопросам разработки и поддержки обращайтесь к команде разработчиков.